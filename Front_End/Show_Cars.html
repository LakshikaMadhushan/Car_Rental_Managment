<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Car_View</title>
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <link href="assests/frm/css/bootstrap.min.css" rel="stylesheet">
    <!--    <link rel="stylesheet" href="index01.css">-->
</head>
<body>
<main id="login">

    <header class="row bg-primary  border m-0 container-fluid" style="margin: 0; ">
        <div class=" col-10 ">
            <div class="row">
                <!--                <i class="fas fa-hand-holding-usd text-white pt-2 pl-0" style="font-size: 48px" ></i>-->
                <h1 class=" ml-1 text-white" style="margin:2%;font-family: 'Oswald'">Car Rental Management</h1>
            </div>
        </div>
        <div class="col-1" style="bottom: 10px">
            <div class="pt-3 text-white" style="font-size: 40px">
                <img src="assests/img/icons8-shutdown-60.png" style="position:relative;left:175%;" height="60"
                     width="60"/>
            </div>

        </div>
    </header>
    <div class="card bg-dark text-white">
        <img class="card-img" style="filter: blur(3px); " src="assests/img/1.jpg" alt="Card image">
        <div class="card-img-overlay">
            <div class="bg-img ">
                <form action="/action_page.php" class="container">
                    <h1>Car View</h1>
                    <div style="display: grid;grid-template-rows: repeat(1, 1fr);grid-template-columns: repeat(4, 1fr);">
                        <div style="width: 200px;height: 150px;"
                             class="bg-secondary">
                        </div>
                        <div style="width: 200px;height: 150px;"
                             class="bg-secondary">
                        </div>
                        <div style="width: 200px;height: 150px;"
                             class="bg-secondary">
                        </div>
                        <div style="width: 200px;height: 150px;"
                             class="bg-secondary">
                        </div>
                    </div>

                    <div class="form-group col-3" style="display: inline-block;">
                        <label for="car_id2">Car ID</label>
                        <input class="form-control" id="car_id2" placeholder="Do Not Fill" name="car_id2" type="text" required>
                    </div>

                    <div class="form-group col-3" style="display: inline-block;">
                        <label for="model_id3">Model ID</label>
                        <input class="form-control" id="model_id3" placeholder="Do Not Fill" name="model_id3" type="text" required>
                    </div>

                    <div class="form-group col-3 " style="display: inline-block;">
                        <label for="brand_name1">Brand Name</label>
                        <input class="form-control" id="brand_name1" placeholder="Brand Name" name="brand_name1" type="text" required>
                    </div>

                    <div class="form-group col-2 " style="display: inline-block;">
                        <label for="transmission_type1">Transmission Type</label>
                        <input class="form-control" id="transmission_type1" placeholder="Transmission Type" name="transmission_type1" type="text"
                               required>
                    </div>


                    <div class="form-group col-3 " style="display: inline-block;">
                        <label for="car_type1">Car_Type</label>
                        <input class="form-control" id="car_type1" placeholder="Car_Type" name="car_type1" type="text"
                               required>
                    </div>


                    <div class="form-group col-3" style="display: inline-block;">
                        <label for="no_of_passenger1">No Of Passengers</label>
                        <input class="form-control" id="no_of_passenger1" placeholder="No Of Passengers" name="no_of_passenger1" type="text"
                               required>
                    </div>

                    <div class="form-group col-3" style="display: inline-block;">
                        <label for="daily_rate2">Daily_Rate</label>
                        <input class="form-control" id="daily_rate2" placeholder="Daily Rate" name="daily_rate2" type="text"
                               required>
                    </div>
                    <div class="form-group col-2" style="display: inline-block;">
                        <label for="fuel_type1">Fuel Type</label>
                        <input class="form-control" id="fuel_type1" placeholder="Fuel Type" name="fuel_type1" type="text"
                               required>
                    </div>

                    <div class="form-group col-3" style="display: inline-block;">
                        <label for="Monthly_Rate1">Monthly_Rate</label>
                        <input class="form-control" id="Monthly_Rate1" placeholder="Monthly Rate" name="Monthly_Rate1" type="text"
                               required>
                    </div>

                    <div class="form-group col-3" style="display: inline-block;">
                        <label for="free_km_for_day1">Free KM For Day</label>
                        <input class="form-control" id="free_km_for_day1" placeholder=" Free KM For Day" name="free_km_for_day1" type="text"
                               required>
                    </div>

                    <div class="form-group col-3" style="display: inline-block;">
                        <label for="free_km_for_Month1">Free KM For Month</label>
                        <input class="form-control" id="free_km_for_Month1" placeholder=" Free km for Month" name="free_km_for_Month1" type="text"
                               required>
                    </div>

                    <div class="form-group col-2" style="display: inline-block;">
                        <label for="extra_km_price2">Extra KM Price</label>
                        <input class="form-control" id="extra_km_price2" placeholder=" Extra KM Price" name="extra_km_price2" type="text"
                               required>
                    </div>
                    <div class="col-12">

                    <button type="button" id="next" class="btn btn-info col-2">Next</button>
                    <button type="button" id="back" class="btn btn-info col-2">Back</button>
                        <div class="form-group col-3" style="display: inline-block;">
                            <label for="available2"> Available</label>
                            <input class="form-control" id="available2" placeholder="Available" name="available2" type="text"
                                   required>
                        </div>

                        <div class="form-group col-3" style="display: inline-block;">
                            <label for="date"> Date</label>
                            <input class="form-control" id="date" placeholder="Developing yet" name="date" type="text"
                                   required>
                        </div>
                    </div>

                    <div class="col-10 mt-2">
                        <button type="button" id="confirm" class="btn btn-success col-4">Confirm</button>
                        <button type="button" id="start" class="btn btn-primary col-4">Start</button>
                    </div>


                </form>
            </div>

        </div>
    </div>
</main>

</body>
<script src="assests/lib/jquery-3.5.1.min.js"></script>
<script src="assests/frm/js/bootstrap.min.js"></script>
<script>
    let i=-1;
    $("#start").click(function () {

       i=0;
        $.ajax({
            url: "http://localhost:8080/Back_End1_war/car/c1/car",
            dataType: 'json',
            success: function (res) {
                let data = res.data;

                 let car_id = data[i].car_id;
                    let model_id =data[i].model_id;
                    let availble =data[i].car_status;
                    // let milage = data[i].milage;
                    // let colour = data[i].colour;
                    // let maintain_km = data[i].maintain_km;
                    // let car_status = data[i].maintain_status;
                    let car_pic1 =data[i].Car_pic_01;
                    let car_pic2 = data[i].Car_pic_02;
                    let car_pic3 = data[i].Car_pic_03;
                    let car_pic4 = data[i].Car_pic_04;
                    $("#car_id2").val(car_id);
                    $("#model_id3").val(model_id);
                    $("#available2").val(availble);

                loadAllCarDetails(model_id);
                }

        });
    });


    function loadAllCarDetails(model_id2) {

        $.ajax({
            url: "http://localhost:8080/Back_End1_war/car/c1/cardetails/" + model_id2,
            success: function (res) {
                if (res.message == "Success") {
                    console.log(res);
                    let car_details = res.data;
                    // $("#model_id1").val(car_details.model_id1);
                    $("#brand_name1").val(car_details.brand);
                    $("#transmission_type1").val(car_details.transmission_type);
                    $("#car_type1").val(car_details.car_type);
                    $("#no_of_passenger1").val(car_details.no_of_passngers);
                    $("#daily_rate2").val(car_details.daily_rate);
                    $("#Monthly_Rate1").val(car_details.monthly_rate);
                    $("#fuel_type1").val(car_details.fuel_type);
                    $("#free_km_for_day1").val(car_details.km_for_day);
                    $("#free_km_for_Month1").val(car_details.km_for_month);
                    $("#extra_km_price2").val(car_details.extra_km_price);
                } else {
                    alert(res.data);
                }
            }
        });
    }


    $("#next").click(function () {

        i++;
        $.ajax({
            url: "http://localhost:8080/Back_End1_war/car/c1/car",
            dataType: 'json',
            success: function (res) {
                let data = res.data;

                if(data.length<i){
                    i=0;
                }
                let car_id = data[i].car_id;
                let model_id =data[i].model_id;
                let availble =data[i].car_status;
                // let milage = data[i].milage;
                // let colour = data[i].colour;
                // let maintain_km = data[i].maintain_km;
                // let car_status = data[i].maintain_status;
                let car_pic1 =data[i].Car_pic_01;
                let car_pic2 = data[i].Car_pic_02;
                let car_pic3 = data[i].Car_pic_03;
                let car_pic4 = data[i].Car_pic_04;
                $("#car_id2").val(car_id);
                $("#model_id3").val(model_id);
                $("#available2").val(availble);
                loadAllCarDetails(model_id);
            }

        });
    });


    function loadAllCarDetails(model_id2) {

        $.ajax({
            url: "http://localhost:8080/Back_End1_war/car/c1/cardetails/" + model_id2,
            success: function (res) {
                if (res.message == "Success") {
                    console.log(res);
                    let car_details = res.data;
                    // $("#model_id1").val(car_details.model_id1);
                    $("#brand_name1").val(car_details.brand);
                    $("#transmission_type1").val(car_details.transmission_type);
                    $("#car_type1").val(car_details.car_type);
                    $("#no_of_passenger1").val(car_details.no_of_passngers);
                    $("#daily_rate2").val(car_details.daily_rate);
                    $("#Monthly_Rate1").val(car_details.monthly_rate);
                    $("#fuel_type1").val(car_details.fuel_type);
                    $("#free_km_for_day1").val(car_details.km_for_day);
                    $("#free_km_for_Month1").val(car_details.km_for_month);
                    $("#extra_km_price2").val(car_details.extra_km_price);
                } else {
                    alert(res.data);
                }
            }
        });
    }

    $("#back").click(function () {

        i--;
        $.ajax({
            url: "http://localhost:8080/Back_End1_war/car/c1/car",
            dataType: 'json',
            success: function (res) {
                let data = res.data;

                if(-1>=i){
                    i=data.length;
                }
                let car_id = data[i].car_id;
                let model_id =data[i].model_id;
                let availble =data[i].car_status;
                // let milage = data[i].milage;
                // let colour = data[i].colour;
                // let maintain_km = data[i].maintain_km;
                // let car_status = data[i].maintain_status;
                let car_pic1 =data[i].Car_pic_01;
                let car_pic2 = data[i].Car_pic_02;
                let car_pic3 = data[i].Car_pic_03;
                let car_pic4 = data[i].Car_pic_04;
                $("#car_id2").val(car_id);
                $("#model_id3").val(model_id);
                $("#available2").val(availble);
                loadAllCarDetails(model_id);
            }

        });
    });


    function loadAllCarDetails(model_id2) {

        $.ajax({
            url: "http://localhost:8080/Back_End1_war/car/c1/cardetails/" + model_id2,
            success: function (res) {
                if (res.message == "Success") {
                    console.log(res);
                    let car_details = res.data;
                    // $("#model_id1").val(car_details.model_id1);
                    $("#brand_name1").val(car_details.brand);
                    $("#transmission_type1").val(car_details.transmission_type);
                    $("#car_type1").val(car_details.car_type);
                    $("#no_of_passenger1").val(car_details.no_of_passngers);
                    $("#daily_rate2").val(car_details.daily_rate);
                    $("#Monthly_Rate1").val(car_details.monthly_rate);
                    $("#fuel_type1").val(car_details.fuel_type);
                    $("#free_km_for_day1").val(car_details.km_for_day);
                    $("#free_km_for_Month1").val(car_details.km_for_month);
                    $("#extra_km_price2").val(car_details.extra_km_price);
                } else {
                    alert(res.data);
                }
            }
        });
    }
    $("#confirm").click(function () {
        localStorage.setItem("carId", $("#car_id2").val());
    });

</script>
</html>